
# EvoNote 🌌

> **让思想进化。掌控你的数据。**

EvoNote 是一款**本地优先**、支持**双向链接**的笔记应用。它融合了数字花园的理念与现代 IDE (集成开发环境) 的舒适感，同时坚持使用最纯粹的 Markdown 文本存储你的数据，确保数据永远属于你。

[English README](README-EN.md)


![Python](https://img.shields.io/badge/Python-3.10%2B-blue) ![License](https://img.shields.io/badge/License-MIT-green) ![Status](https://img.shields.io/badge/Status-V0.5.0%20(Beta)-orange)

> [!WARNING]
> **开发中 (Under Development)**: 本项目目前仍处于积极开发阶段，核心架构可能随时调整。**暂不推荐**用于生产环境或存储重要数据。请谨慎使用。


---

## ✨ 为什么选择 EvoNote？

### 🔐 100% 本地与私密
你的思想只属于你自己。EvoNote 将所有内容存储为硬盘上简单的 `.md` 文件。没有云端锁定，没有订阅费，更没有数据挖掘。

### 🧩 微内核架构
EvoNote 与众不同。它的核心极其微小；**一切皆插件**。
- **文件浏览器？** 是插件。
- **搜索？** 是插件。
- **编辑器？** 是插件。
这种设计确保了应用永远轻量、模块化，并且拥有无限的扩展潜力。

### 🚀 "双击即用" 的极简主义
忘记复杂的 Python 环境配置吧。EvoNote 的智能启动器 (`main.py`) 会自动检测、安装并管理所需的依赖库。你只需要双击运行，然后开始写作。

---

## 🛠️ 核心特性

-   **双向链接**: 使用 `[[WikiLinks]]` 连接你的想法，构建个人知识图谱。
-   **全局搜索**: 内置 `Whoosh` 引擎，提供毫秒级的全文检索能力。
-   **富媒体支持**: 直接粘贴剪贴板中的图片 (`Ctrl+V`)，自动保存并在笔记中生成链接。
-   **黄金布局**: 精心调教的界面布局：左侧文件树，中间无干扰编辑器，右侧反向链接/大纲。
-   **深色模式**: 专业的深色主题，配合原生系统字体，久视不累。
-   **导航面板**: 全新的悬浮、可停靠、可组合的导航栏，让界面布局随心所欲。

---

## � 使用指南 (How to Use)

EvoNote 的设计理念是 **"所写即所得，所想即所连"**。以下是核心工作流：

### 1. 📝 创建与写作
- **新建笔记**: 点击文件树上方的 `+` 按钮，或直接使用快捷键（未来支持）。
- **Markdown 写作**: 支持标准的 Markdown 语法。
    - **标题**: `# H1`, `## H2`...
    - **粗体/斜体**: `**粗体**`, `*斜体*`
    - **列表**: `- 项目`, `1. 项目`
    - **引用**: `> 引用文本`
    - **代码块**: \`\`\`python ... \`\`\`
- **所见即所得 (WYSIWYG)**: 语法标记（如 `**`）默认隐藏，只有当你将光标移动到文本上时才会显示，让你专注于内容本身。

### 2. 🔗 双向链接 (The Power of Linking)
这是 EvoNote 的灵魂功能。
- **创建链接**: 输入 `[[`，EvoNote 会自动弹出笔记列表。选择一个笔记，即可创建链接。
- **未创建的笔记**: 如果你输入 `[[一个新想法]]`，而这个笔记不存在，没关系！点击它，EvoNote 会自动为你创建这个文件。
- **反向链接 (Backlinks)**: 在右侧面板，你可以看到**所有引用了当前笔记**的其他笔记。这能帮你发现意想不到的知识关联。

### 3. 🧩 内容块 (Content Blocks) - 同步的神器
这是 EvoNote 独有的强大功能。
- **什么是内容块？**: 使用 `{{文本内容}}` 包裹的任何文本都被视为一个"块"。
- **跨笔记同步**:
    - 如果你在 Note A 中写了 `{{这是一段重要定义}}`。
    - 然后在 Note B 中也写了 `{{这是一段重要定义}}`。
    - 这两个块就是**同一个块**。
- **全局更新**:
    - 当你修改其中任意一个（例如改为 `{{这是一段被修正的定义}}`），EvoNote 会询问你是否**全局更新**。
    - 如果选择"是"，整个库中所有引用该块的地方都会瞬间同步更新！
    - 非常适合管理公用的页脚、版权声明、数学公式或常用的代码片段。

### 4. 🔍 全局搜索
- 点击左侧导航栏的 **Search** (或使用快捷键)，打开搜索面板。
- 输入关键词，支持模糊匹配。
- 点击搜索结果，通过 **高亮预览** 快速定位内容。

### 5. 🧩 插件与扩展
- 点击状态栏右下角的 `🧩 Plugins` 图标，打开插件管理器。
- 在这里你可以查看已加载的插件。得益于微内核架构，所有的核心功能（甚至编辑器本身）都是插件。

### 6. 🎨 个性化
- **主题切换**: 点击状态栏右侧的 `☀️/🌙` 按钮，一键切换亮色/暗色模式。
- **布局调整**:
    - **拖拽**: 所有的面板（文件树、大纲、搜索）都可以拖拽。
    - **停靠**: 将它们停靠在左侧、右侧、底部，甚至浮动在窗口之外（多屏工作者的福音）。
    - **记忆**: 你的布局偏好会自动保存。

---

## �📥 快速开始

### 环境要求
-   Windows 10/11
-   已安装 Python 3.10+

### 安装与运行
1.  **下载/克隆项目**:
    ```bash
    git clone https://github.com/your-repo/EvoNote.git
    cd EvoNote
    ```
2.  **运行**:
    ```bash
    python main.py
    ```
    *首次运行时，EvoNote 会自动创建虚拟环境并安装必要组件 (`PySide6`, `markdown-it-py` 等)，请稍候片刻。*

---

## 📅 更新日志

### V0.5.0 - "体验进化" 更新 (2025-12-16)
*核心目标：提升用户体验，增强编辑器智能化，完善主题系统。*

-   **🎨 主题切换 (Theme Toggle)**:
    -   新增状态栏主题切换按钮，一键切换亮色/暗色模式。
    -   修复暗色模式下按钮文字不清晰的问题。
    -   主题偏好自动保存，下次启动时恢复。
-   **📂 会话恢复 (Session Restore)**:
    -   Shift+Click 打开的笔记窗口位置可以被记忆。
    -   关闭软件时自动保存所有打开的笔记窗口，下次启动时恢复。
-   **🔄 全局更新自动刷新**:
    -   修改内容块后点击"全局更新"，已打开的编辑器会自动刷新。
-   **✨ 精细化语法高亮**:
    -   光标只在直接悬停在语法元素上时才显示 Markdown 符号。
-   **🌐 插件管理器双语显示**:
    -   插件列表现在显示中英文名称和描述。
-   **🐛 稳定性修复**:
    -   修复 Safe Mode 无限循环黑屏问题。
    -   修复停靠窗口拖回主界面时崩溃的问题。

### V0.4.8 - "交互与打磨" 更新 (2025-12-16)
*核心目标：修复粗糙的 UI，建立专业软件的基准线。*

-   **🆕 导航面板 (Navigation Panel)**: 顶部的工具栏已升级为完全可停靠的**面板**。你可以拖拽它、让它悬浮，或者和其他窗口合并为 Tab，布局自由度大幅提升。
-   **✨ 视觉优化**: 将原来笨重的汉字按钮替换为精致的**图标** (⬅️ ➡️)，界面更清爽。
-   **🚑 布局救援**:
    -   **文件树回归**: 修复了文件浏览器无法加载的致命 Bug，左侧栏满血复活。
    -   **插件管理后台化**: 将原来占据主界面的“上帝视角”插件管理器移入后台对话框（通过状态栏 🧩 图标访问），还你清净的写作空间。
    -   **黄金布局强制**: 启动时自动执行“左文件-中编辑-右链接”的标准布局。
-   **🐛 稳定性**:
    -   **安全模式**: 自动检测启动崩溃循环，并进入安全模式，允许你禁用有问题的插件。
    -   **错误隔离**: 插件报错不再导致程序闪退，而是以红色警报形式显示在状态栏。

### V0.4.7 - "地基" 更新
-   **启动器**: 全新的 `main.py` 实现依赖自动管理。
-   **图片粘贴**: 实现了通用的剪贴板图片粘贴支持。
-   **深色主题**: 基于 QSS 的现代化深色皮肤。

---

## 🔮 未来展望 (Roadmap)

-   [ ] **实时预览 (Live Preview)**: 像 Typora 一样，输入 Markdown 语法（如 `**加粗**`）后立即渲染为富文本。
-   [ ] **知识图谱 (Graph View)**: 可视化展示笔记之间的连接关系。
-   [ ] **命令面板 (Command Palette)**: 类似 VSCode 的 `Ctrl+P` 指令中心，全键盘操作一切。

---

**祝写作愉快！** 🖊️
