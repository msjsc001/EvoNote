🚧 **注意该项目因为时间问题已经暂停施工** 🚧
如果你感兴趣可以继续接手项目继续写下去，该项目前已经有一个良好的基座主打 Markdown+Python 笔记系统，一切功能都不依赖任何开发者就能自己通过AI+py 脚本实现任意功能自由，且py文件间高度解耦实现高自由度的功能组合，并写好了双向链语法 [[标题连接]] {{字级块连接和更新}} 。
因为我时间有限目前无暇再顾忌这个项目。

-----

# EvoNote - 你的可进化知识与自动化伙伴 🚀
<img alt="PixPin_2025-10-05_16-02-25" src="https://github.com/user-attachments/assets/12faec9e-bdcd-448a-bb2d-82e8db298ea1" />

[](https://opensource.org/licenses/MIT)

你是否曾感觉，你的笔记软件像一座精美却冰冷的牢笼？你的思想被禁锢在专有的格式中，强大的功能总是差一点才合心意，你被迫去适应工具，而非工具适应你。

现在，是时候打破牢笼了。

欢迎来到 EvoNote 的魔法世界！✨ 它不是一个工具，而是一个能与你一同呼吸、一同成长的**魔法伙伴**。它以 Markdown 的永恒与 Python 的无限为咒语，为你构筑一座真正属于你的、拥有无限可能性的知识城堡。

在这里，**你的想象力是魔法的唯一边界**。

-----

## 🏰 EvoNote 的三大基石：构筑你的知识城堡

EvoNote 建立在三个坚不可摧的信念之上，它们共同确保你的知识城堡既宏伟、又完全属于你。

### 📜 基石一：你的知识，永恒且自由

我们坚信，思想的沉淀不应有保质期。

  - **痛点：** 传统的笔记软件用私有格式将你的数据“锁”在它们的生态里，一旦它们改变或消失，你的知识也将面临风险。
  - **EvoNote的承诺：** 我们选择 **Markdown** 这种开放的纯文本格式，作为知识的唯一载体。每一篇笔记都是一张属于你的“**永恒羊皮卷**”，存放在你自己的电脑上。无论十年还是五十年后，你都能轻易读取和传承。**你的思想永远属于你，不被任何平台囚禁。** 🕊️

### 🧩 基石二：你的工具，由你亲手创造

我们坚信，最懂你的工具，只能由你自己创造。

  - **痛点：** 任何软件的功能都是预设的，你总会遇到一些“要是能这样就好了”的个性化需求，但只能等待开发者更新。
  - **EvoNote的承诺：** 我们选择 **Python** 这个强大的语言作为你的“**自由魔法棒**”。在EvoNote中，**每一个功能，从文件浏览器到搜索框，都是一个独立的Python“乐高积木”（插件）**。你可以随时替换、修改，甚至用几句简单的咒语（或者让AI帮你念咒！），就能创造一个全新的功能，打造一个100%为你定制的工具箱。 🚀

### 🤖 基石三：你的伙伴，聪慧且可靠

我们坚信，一个好的伙伴，不仅要听话，更要聪明和靠谱。

  - **痛点：** 复杂的插件系统常常导致软件不稳定，一个插件崩溃就可能让整个应用瘫痪。同时，想接入AI等新技术流程复杂。
  - **EvoNote的承诺：**
      - **可靠：** 城堡里的所有“积木”都通过一个“**传声螺**”（全局信号总线）来沟通，彼此完全独立。这意味着你可以放心地试验任何新功能，而不用担心你的城堡会塌方。🧩
      - **聪慧：** Python是AI时代的通用语言。这意味着你可以极其轻松地将世界上最聪明的“大脑”（如GPT、Gemini）集成到你的笔记流中，让它帮你总结、翻译、甚至自动化整理。EvoNote天生就是一个**拥抱未来的AI友好平台**。

---
### EvoNote 功能介绍：一本“活”的魔法书 🪄

想象一下，你得到了一本魔法书，它不仅能记录你的想法，还能理解它们，并随着你的成长而学会新的魔法。这就是EvoNote。

#### **📜 你的知识，永远属于你**

* **问题：** 你是否担心某一天你用的笔记软件倒闭了，你所有的心血都无法导出或变得乱码？
* **EvoNote的解法：** 你的每一篇笔记，都是一张简单、通用的“知识羊皮卷”。它存放在你自己的电脑上，100%属于你。50年后，你用任何一个最基础的记事本都能打开它，你的知识永远不会丢失。

#### **✨ 穿梭于思想之间：强大的链接魔法**

EvoNote能帮你将孤立的想法，编织成一张巨大的知识网络。

* **知识传送门**
    * **实例：** 你正在写“周度总结”笔记，想引用上周的“项目A会议纪要”。你只需输入两个 `[` 方括号，一个方便的列表就会弹出，帮你快速找到并插入一个指向“项目A会议纪要”的链接。这个链接会以漂亮的蓝色高亮显示。
    * **一键穿梭：** 当你想回顾时，只需用鼠标点击这个高亮显示的链接文本，“咻”的一声，你就瞬间传送到了“项目A会议纪要”那篇笔记！🚀
    * **不会迷路：** 顶部的“后退 ⬅️”和“前进 ➡️”按钮就像浏览器一样，可以让你在浏览历史中自由穿梭。

* **🔮 记忆水晶球 (反向链接)**
    * **实例：** 当你看着“项目A会议纪要”这篇笔记时，会不会好奇：“除了周度总结，还有哪些笔记也提到了它？”
    * **解法：** EvoNote右侧的“反向链接”面板就像一个记忆水晶球，会自动告诉你所有链接到当前笔记的地方。点击列表中的任何一项，又能立即传送过去。

* **🪄 智能地图修正 (自动重命名)**
    * **实例：** 你觉得“项目A会议纪要”这个名字太长，想把它改成“A项目纪要”。
    * **解法：** 只需**双击编辑器顶部的标题**，修改后回车。EvoNote会自动帮你把知识库里所有指向“项目A会议纪要”的链接，都**同步修正**为指向“A项目纪要”，确保你的知识传送门永远不会失效。

#### **💎 提炼思想的精华：独一无二的“知识结晶”**

有些核心概念、名言、或者数据，你可能会在很多地方反复使用。EvoNote能帮你把它们提炼成可同步的“知识结晶”。

* **提炼与复用**
    * **实例：** 你在笔记中用两个 `{` 花括号包裹了公司的核心价值观：“诚信、创新、客户至上”。这段文字就被提炼成了一块“知识结晶”。之后，在任何其他笔记里，你只需输入两个 `{` 花括号和“诚”，补全列表就会出现，让你一键复用。

* **🔄 神奇的共鸣 (同步修改)**
    * **实例：** 某天，公司的价值观新增了一项“开放”。你在**任何一处**将那段文字修改为“诚信、创新、客户至上、开放”。
    * **解法：** 此时，一个低调的选项栏会浮现，给你三个选择：`[全局更新]` `[转为新块]` `[取消]`。
    * 当你点击 **`[全局更新]`**，奇迹发生了：你知识库里**所有**用到这块“结晶”的地方，都会在后台**瞬间同步更新**。这就是“一处修改，处处共鸣”。

#### **🏰 你的地盘你做主：无与伦比的自由度**

* **🖼️ 像整理桌面一样整理工作区**
    * 你的文件浏览器、反向链接面板等，就像桌面上的窗口，可以随意拖拽、并排摆放、合并成标签页，甚至可以**拖出主窗口，变成一个独立的悬浮窗口**。

* **✨ 独立参考窗口**
    * **实例：** 你在写论文时，想随时参考一篇文献笔记。
    * **解法：** 按住`Shift`键再点击那篇文献笔记的链接，这篇笔记就会在一个**独立的、轻量级的窗口**中打开，你可以把它放在屏幕一角随时查看。这个窗口里的内容同样支持**自动保存**。

* **📚 多书房系统 (多库管理)**
    * 你可以把你电脑上的任何文件夹都变成一个独立的EvoNote“书房”（知识库）。比如，一个用于“学习”，一个用于“工作”，一个用于“生活”。你可以通过“库管理”窗口在这些完全隔离的书房之间一键切换。

* **📖 万能的魔法咒语书 (命令面板)**
    * 按下 `Ctrl+P` (或 `Cmd+P`)，就能召唤出“命令面板”。这里没有繁琐的按钮，你可以像施法一样，输入“新建笔记”、“切换主题”等任何指令，来指挥EvoNote做任何事。

---

## 🚀 快速上手：开启你的魔法之旅

只需两步：

1) 念动咒语（安装依赖）
```bash
pip install -r requirements.txt
```

2) 开启传送门（运行 EvoNote）
```bash
python main.py
```

提示

- 首次进入若未选择任何“知识库（Vault）”，界面会显示欢迎语并禁用编辑。  
  请通过“工具栏 → 库管理”添加或切换一个库后再开始书写。
- 安全规则：禁止将“程序目录（EvoNote 安装目录）”设置为库；请选择任意你自己的文件夹作为库根目录。
- 库结构会在创建/切换时自动生成：
  - pages/：存放你的 Markdown 笔记
  - assets/：存放图片等附件
  - .EvoNotDB/：库数据库目录（包含 whoosh_index 与 index.db），已加入 .gitignore

---

好的，这是您提供的Mermaid图对应的Markdown列表结构：

### 🗺️ 城堡结构导览（文件结构）

* `main.py` (城堡的魔法之源)
* `.EvoNotDB/` (知识库数据库目录)
    * `index.db` (知识账本)
    * `whoosh_index/` (快速检索目录)
* `core/` (驱动城堡的心脏)
    * `app.py` (大管家)
    * `plugin_manager.py` (魔法卷轴管理员)
    * `signals.py` (传声螺)
    * `ui_manager.py` (炼金工房, 负责外观)
    * `command.py` (命令面板基石)
    * `command_palette.py` (命令面板 UI)
    * `api.py` (与外界沟通的信使)
    * `parsing_service.py` (羊皮卷阅读者)
    * `rendering_service.py` (羊皮卷绘画者)
* `services/` (辛勤工作的地精工坊)
    * `file_indexer_service.py` (图书管理员)
* `plugins/` (存放所有魔法卷轴的书架)
    * `editable_editor/` (魔法书写羽毛笔)
    * `completion_service.py` (智慧精灵, 提供补全建议)
    * `file_browser_plugin.py` (领地地图)
    * `backlink_panel.py` (记忆水晶球, 显示谁提到了我)
    * `tool_launcher.py` (工具栏)
    * `...` (你的下一个绝妙魔法！)

---

## 📜 历史的篇章（更新日志）
- 
- V0.4.7：修复 {{ 补全混入 [[ 候选；在 {{ 内修改总会出现提示浮层并在无必要时禁用“全局修改”；{{ 候选仅展示仍被引用的块；版本号更新。
- V0.4.6：修复Shift+左键 [[目标笔记]] 弹出新窗后导致所有笔记界面都是同一笔记的问题。
- V0.4.5b: 新增了带前进/后退功能的导航工具栏，并实现了笔记重命名与全库链接同步；同时修复了浮动窗口无法保存和{{输入不稳定的核心BUG，加入了全局自动保存，大幅提升了应用的稳定性和专业性。
- V0.4.5a: 这是一个关键的修复与增强版本。它彻底修复了 [[页面链接]] 的导航跳转和 {{内容块}} 的同步BUG；同时，引入了全新的“多库（Vault）管理”系统，支持创建、切换和管理多个独立的知识库。
- V0.4.5: 实现了完整的 {{内容块}} 同步修改引擎，包括修改后的UI提示、后台异步全局更新、智能合并及垃圾回收功能。
- V0.4.4 (2025-10-02) - 知识结晶：引入 {{内容块}}，实现后台索引与实时补全
- V0.4.3 (2025-10-02) - 命令面板：加入 Ctrl+P 命令面板
- V0.4.2b (2025-10-02) - 反向链接面板：查看哪些笔记提到了当前笔记
- V0.4.2a (2025-10-02) - 链接点击：编辑器内 [[页面链接]] 可点击跳转
- V0.4.1 (2025-10-02) - 智慧的低语：在输入 [[ 时提供自动补全
- V0.4.0.1 (2025-10-02) - 地基加固：修复图书管理员多个问题，重构重命名逻辑
- V0.3.2 (2025-10-01) - 羽毛笔升级：编辑器内核升级，书写体验更流畅
- V0.3.1 (2025-10-01) - 羊皮卷显影：基于 AST 的 Markdown 只读渲染
- V0.3.0 (2025-10-01) - 获得阅读能力：集成 markdown-it-py 解析
- V0.2 (2025-10-01) - 城堡骨架：可停靠的插件式 UI 系统
- V0.1 (2025-09-30) - 创世之初：微内核 + 插件的最小可行城堡

---

## 📄 许可协议

本项目采用 MIT License。欢迎自由使用、传承与创造。
